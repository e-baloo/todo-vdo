# 📦 TP : Installation de MongoDB avec Docker, Mongo Express & MongoDB Compass

## 🎯 Objectifs

- Installer **Docker Desktop**
- Déployer **MongoDB** avec Docker Compose (et un compte sécurisé)
- Utiliser **Mongo Express** (interface web) et **MongoDB Compass** (client local)

---

## 🧰 Partie 1 – Installer Docker Desktop

### 🔗 Télécharger Docker

👉 https://www.docker.com/products/docker-desktop

### ✅ Étapes :

1. Choisir votre système (Windows / macOS / Linux)
2. Suivre l'installation
3. Vérifier que Docker fonctionne :

```bash
docker --version
```

Exemple attendu :
```
Docker version 24.0.2, build cb74dfc
```

---

## 🐳 Partie 2 – Lancer MongoDB avec Mongo Express (via Docker Compose)

### 📁 Crée un fichier `docker-compose.yml` :

```yaml
version: '3.8'

services:
  mongo:
    image: mongo:6
    container_name: mongo-container
    ports:
      - "27017:27017"
    environment:
      MONGO_INITDB_ROOT_USERNAME: mongoadmin
      MONGO_INITDB_ROOT_PASSWORD: secret123
    volumes:
      - mongo-data:/data/db

  mongo-express:
    image: mongo-express:latest
    container_name: mongo-express
    ports:
      - "8081:8081"
    environment:
      ME_CONFIG_MONGODB_ADMINUSERNAME: mongoadmin
      ME_CONFIG_MONGODB_ADMINPASSWORD: secret123
      ME_CONFIG_MONGODB_SERVER: mongo
    depends_on:
      - mongo

volumes:
  mongo-data:
```

### ▶️ Lancer les services

```bash
docker compose up -d
```

### ✅ Vérifier

```bash
docker ps
```

Tu dois voir deux conteneurs : `mongo-container` et `mongo-express`.

---

## 🌐 Partie 3 – Utiliser Mongo Express (interface web)

1. Ouvre un navigateur : [http://localhost:8081](http://localhost:8081)
2. Identifiants :
   - Utilisateur : `mongoadmin`
   - Mot de passe : `secret123`
3. Navigue dans les bases, collections et documents

---

## 🧭 Partie 4 – Installer MongoDB Compass

### 🔗 Télécharger Compass

👉 https://www.mongodb.com/try/download/compass  
Choisir la version **Community**

### 🧪 Connexion

Utiliser cette URI :

```
mongodb://mongoadmin:secret123@localhost:27017
```

> Tu peux maintenant gérer visuellement la base `todoApp`, collection `tasks`, etc.

---

## 🧼 Partie 5 – Gérer MongoDB avec Docker

### 🔄 Relancer les conteneurs

```bash
docker compose up -d
```

### ⏹️ Arrêter MongoDB

```bash
docker compose down
```

### 🧨 Supprimer les volumes (efface les données)

```bash
docker compose down -v
```

---

## 🧪 Exercices

1. Connecte-toi à **Mongo Express**
   - Crée une base `todoApp`
   - Crée une collection `tasks`
   - Ajoute un document :  
     ```json
     { "title": "Découvrir MongoDB", "status": "todo" }
     ```

2. Ouvre **MongoDB Compass**
   - Connecte-toi
   - Observe le document créé
   - Modifie son statut : `"in_progress"`

3. Supprime le document via Compass

---

## ❓ Questions de compréhension

- Quelle est la différence entre Mongo Express et Compass ?
- Pourquoi stocke-t-on les données dans un `volume` ?
- Où sont situées les données sur ta machine ? *(piste : `docker volume inspect mongo-data`)*
