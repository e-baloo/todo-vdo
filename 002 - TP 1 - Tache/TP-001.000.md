# ğŸ§  Chapitre 1 : ModÃ©lisation des DonnÃ©es

**ğŸ¯ Objectifs pÃ©dagogiques**
Ã€ la fin de ce chapitre, lâ€™Ã©lÃ¨ve sera capable de :

Identifier les entitÃ©s principales dâ€™une application "gestionnaire de tÃ¢ches"

Traduire un modÃ¨le conceptuel en schÃ©ma de donnÃ©es MongoDB avec Mongoose

PrÃ©parer la structure de donnÃ©es nÃ©cessaire pour la suite du projet

## ğŸ“ 1.1 â€“ Analyse des EntitÃ©s

**ğŸ§© EntitÃ© User**

Un utilisateur peut :

Sâ€™inscrire / se connecter

CrÃ©er, modifier, supprimer ses propres tÃ¢ches

Attributs :
- id
- name
- email
- password (stockÃ© sous forme hashÃ©e)

**ğŸ§© EntitÃ© Task**

Une tÃ¢che contient :
- id
- title
- description
- dueDate (Ã©chÃ©ance)
- status (Ã  faire / en cours / terminÃ©)
- userId (rÃ©fÃ©rence vers lâ€™utilisateur propriÃ©taire)

## ğŸ§® 1.2 â€“ ModÃ¨le Conceptuel (MCD simplifiÃ©)
text
Copier
Modifier
User (1) -------- (âˆ) Task

User :
- id: ObjectId
- name: string
- email: string
- password: string

Task :
- id: ObjectId
- title: string
- description: string
- dueDate: Date
- status: 'todo' | 'in_progress' | 'done'
- userId: ObjectId (rÃ©fÃ©rence Ã  User)


## ğŸ“¦ 1.3 â€“ DÃ©finition des modÃ¨les avec Mongoose
Dans le dossier src/users, crÃ©e le fichier suivant :

ğŸ“ src/users/schemas/user.schema.ts
```typescript
import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';
import { Document } from 'mongoose';

export type UserDocument = User & Document;

@Schema()
export class User {
  @Prop({ required: true })
  name: string;

  @Prop({ required: true, unique: true })
  email: string;

  @Prop({ required: true })
  password: string; // hashÃ© avec bcrypt plus tard
}

export const UserSchema = SchemaFactory.createForClass(User);
```

Dans le dossier src/tasks, crÃ©e :

ğŸ“ src/tasks/schemas/task.schema.ts
```typescript
import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';
import { Document, Types } from 'mongoose';
import { User } from '../../users/schemas/user.schema';

export type TaskDocument = Task & Document;

@Schema({ timestamps: true }) // auto ajoute createdAt / updatedAt
export class Task {
  @Prop({ required: true })
  title: string;

  @Prop()
  description: string;

  @Prop()
  dueDate: Date;

  @Prop({ enum: ['todo', 'in_progress', 'done'], default: 'todo' })
  status: string;

  @Prop({ type: Types.ObjectId, ref: 'User', required: true })
  userId: Types.ObjectId;
}

export const TaskSchema = SchemaFactory.createForClass(Task);
```

## ğŸ§ª 1.4 â€“ Ã‰tapes pratiques Ã  faire faire aux Ã©lÃ¨ves
Exercice 1 : Analyse des besoins
Lister les entitÃ©s et attributs dâ€™un gestionnaire de tÃ¢ches

ModÃ©liser un MCD simple (papier ou outil en ligne)

Exercice 2 : CrÃ©ation des schÃ©mas
ImplÃ©menter les deux schÃ©mas Mongoose (User et Task)

Ajouter une contrainte de rÃ©fÃ©rence avec userId dans Task

## ğŸ§° 1.5 â€“ PrÃ©paration pour lâ€™intÃ©gration
Dans le prochain chapitre (MongoDB + Mongoose), les Ã©lÃ¨ves :

Importeront ces schÃ©mas dans les modules NestJS

Feront les premiers tests avec des services pour insÃ©rer/consulter les donnÃ©es